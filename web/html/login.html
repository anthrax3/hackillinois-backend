<script src="bower_components/jquery/dist/jquery.js"></script>
<h1>Login to post it</h1>
<form id="login">
  <input type="text" class="username" placeholder="Username"></input>
  <input type="password" class="password" placeholder="Password"></input>
  <button>Login</button>
</form>

<h1>Register</h1>
<form id="register">
  <input type="text" class="username" placeholder="Email"></input>
  <input type="password" class="password" placeholder="Password"></input>
  <button>Register</button>
</form>

<div id="firebaseUid" style="display:none;"></div>
<div id="firebaseAuthToken" style="display: none;"></div>

<script>
  var ref = new Firebase("https://amber-heat-5574.firebaseio.com");

  $("#login").submit(function(e) {
    e.preventDefault();
    ref.authWithPassword({
      email    : $("#login .username").val(),
      password : $("#login .password").val()
    }, function(error, authData) {
      if (error) {
        console.log("Login Failed!", error);
      } else {
        console.log("Authenticated successfully with payload:", authData);
      }
    });
  })

  $("#register").submit(function(e) {
    e.preventDefault();
   ref.createUser({
      email    : $("#register .username").val(),
      password : $("#register .password").val()
    }, function(error, userData) {
      if (error) {
        console.log("Error creating user:", error);
      } else {
        console.log("Successfully created user account with uid:", userData.uid);
        var uref = ref.child('users/' + userData.uid);
        uref.set({
          name: 'putte',
          email: $("#register .username").val()
        })
      }
    });
  })

  ref.onAuth(function(authData) {
    if(authData) {
      $('#firebaseUid').text(authData.uid);
      $('#firebaseAuthToken').text(authData.token);
      console.log("User ID: " + authData.uid);
      // createAccount(authData);
    }
  });

</script>